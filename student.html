<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmileBack - Student Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="student-container">
        <!-- Student Header -->
        <header class="student-header">
            <div class="header-left">
                <a href="index.html" class="btn-secondary">â† ZurÃ¼ck</a>
            </div>
            <div class="anonymity-badge-inline">
                <span class="badge-icon">ğŸ”’</span>
                <div class="badge-content">
                    <div class="badge-title">Dein Feedback ist anonym</div>
                    <div class="badge-detail">Keine Identifikation â€¢ Keine Nachverfolgung</div>
                </div>
            </div>
        </header>

        <!-- NEW: Session Status Banner -->
        <div class="session-status-banner" id="sessionStatusBanner">
            <span class="status-indicator" id="statusIndicator">â—</span>
            <span id="statusText">Session-Status wird geladen...</span>
        </div>

        <!-- Session Info (Decluttered) -->
        <div class="session-info">
            <div class="session-header-compact">
                <h2>Grundlagen der HCI</h2>
                <button class="info-toggle" onclick="toggleSessionDetails()" aria-label="Session-Details anzeigen">
                    â„¹ï¸
                </button>
            </div>
            <div class="session-details-expanded hidden" id="sessionDetails">
                <p class="session-detail"><strong>Session-Code:</strong> #2025-W07</p>
                <p class="session-detail"><strong>Session-Zeit:</strong> <span id="sessionTimer">00:00</span></p>
                <p class="session-detail"><strong>Uhrzeit:</strong> <span id="currentTime">--:--</span></p>
            </div>
        </div>

        <!-- Emoji Feedback -->
        <div class="feedback-section">
            <h3>Wie geht es dir gerade?</h3>
            <div class="emoji-grid">
                <button class="emoji-btn" data-emoji="ğŸ˜Š" onclick="selectEmoji('ğŸ˜Š', 'happy')">
                    <span class="emoji-large">ğŸ˜Š</span>
                    <span class="emoji-label">Super <span class="shortcut-hint">1</span></span>
                </button>
                <button class="emoji-btn" data-emoji="ğŸ™‚" onclick="selectEmoji('ğŸ™‚', 'good')">
                    <span class="emoji-large">ğŸ™‚</span>
                    <span class="emoji-label">Gut <span class="shortcut-hint">2</span></span>
                </button>
                <button class="emoji-btn" data-emoji="ğŸ˜" onclick="selectEmoji('ğŸ˜', 'neutral')">
                    <span class="emoji-large">ğŸ˜</span>
                    <span class="emoji-label">Okay <span class="shortcut-hint">3</span></span>
                </button>
                <button class="emoji-btn" data-emoji="ğŸ˜•" onclick="selectEmoji('ğŸ˜•', 'confused')">
                    <span class="emoji-large">ğŸ˜•</span>
                    <span class="emoji-label">Verwirrt <span class="shortcut-hint">4</span></span>
                </button>
                <button class="emoji-btn" data-emoji="ğŸ˜“" onclick="selectEmoji('ğŸ˜“', 'lost')">
                    <span class="emoji-large">ğŸ˜“</span>
                    <span class="emoji-label">Verloren <span class="shortcut-hint">5</span></span>
                </button>
                <button class="emoji-btn" data-emoji="ğŸ˜´" onclick="selectEmoji('ğŸ˜´', 'bored')">
                    <span class="emoji-large">ğŸ˜´</span>
                    <span class="emoji-label">Gelangweilt <span class="shortcut-hint">6</span></span>
                </button>
            </div>
            <!-- NEW: Confirm button (hidden by default) -->
            <button id="confirmFeedbackBtn" class="confirm-feedback-btn hidden" onclick="confirmFeedback()">
                Feedback senden
            </button>
            
            <!-- NEW: Standalone Comment Button -->
            <div class="standalone-comment-trigger">
                <button class="btn-secondary" style="width: 100%; margin-top: 15px; border-style: dashed;" onclick="openCommentOnly()">
                    ğŸ’¬ Nur einen Kommentar hinterlassen
                </button>
            </div>
        </div>

        <!-- Optional Comment (appears after emoji selection) -->
        <div id="optionalComment" class="optional-comment hidden">
            <h4>MÃ¶chtest du noch etwas hinzufÃ¼gen? (optional)</h4>
            <textarea id="commentBox" placeholder="Deine anonyme Anmerkung..."></textarea>
            <div class="comment-actions">
                <button class="submit-comment-btn" onclick="submitComment()">Kommentar senden</button>
                <button class="skip-comment-btn" onclick="skipComment()">Ãœberspringen</button>
            </div>
        </div>
        
        <!-- Feedback BestÃ¤tigung -->
        <div id="feedbackConfirm" class="feedback-confirm hidden">
            âœ“ Feedback gesendet!
        </div>

        <!-- Hand heben Feature -->
        <div class="raise-hand-section">
            <button id="raiseHandBtn" class="raise-hand-btn" onclick="toggleRaiseHand()">
                âœ‹ Hand heben
            </button>
            <p class="hand-status" id="handStatus"></p>
        </div>

        <!-- Keyboard Shortcuts Legend -->
        <div class="keyboard-shortcuts">
            <h4>âŒ¨ï¸ TastaturkÃ¼rzel</h4>
            <div class="shortcuts-grid">
                <div class="shortcut-item">
                    <kbd>1</kbd>-<kbd>6</kbd>
                    <span>Emoji auswÃ¤hlen</span>
                </div>
                <div class="shortcut-item">
                    <kbd>Enter</kbd>
                    <span>Feedback bestÃ¤tigen</span>
                </div>
                <div class="shortcut-item">
                    <kbd>Esc</kbd>
                    <span>Abbrechen</span>
                </div>
                <div class="shortcut-item">
                    <kbd>H</kbd>
                    <span>Hand heben/senken</span>
                </div>
            </div>
        </div>

    </div>

    <script src="student.js"></script>
</body>
</html>
